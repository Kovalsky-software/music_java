<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane fitToWidth="true" fitToHeight="true"
            hbarPolicy="AS_NEEDED" vbarPolicy="ALWAYS"
            style="-fx-background-color: #f8f9fa;"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.vp_final.SearchController">

    <VBox spacing="30" alignment="TOP_CENTER" style="-fx-background-color: #f8f9fa;">

        <padding>
            <Insets top="40" right="40" bottom="120" left="40"/>
        </padding>

        <!-- Заголовок + поиск -->
        <Label text="Поиск" style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
        <TextField fx:id="searchField" promptText="Исполнители, треки, альбомы..."
                   prefWidth="360" prefHeight="48"
                   style="-fx-background-radius: 30; -fx-padding: 0 25 0 25; -fx-font-size: 15;"/>

        <!-- ЖАНРЫ — 35-40% высоты -->
        <VBox spacing="16" VBox.vgrow="ALWAYS">
            <Label text="Исполнители по жанрам" style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <ScrollPane hbarPolicy="ALWAYS" vbarPolicy="NEVER" fitToHeight="true" minHeight="240">
                <HBox fx:id="genresContainer" spacing="22" alignment="CENTER_LEFT" minHeight="240">
                    <padding><Insets top="20" right="40" bottom="20" left="20"/></padding>
                </HBox>
            </ScrollPane>
        </VBox>

        <!-- ТРЕКИ — теперь будет ОГРОМНЫМ! -->
        <VBox fx:id="tracksSection" spacing="16" visible="false">

            <Label fx:id="genreTitleLabel" text="Треки жанра: Поп"
                   style="-fx-font-size: 22; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Separator prefWidth="500"/>

            <!-- КЛЮЧЕВОЕ ИЗМЕНЕНИЕ: ScrollPane с VBox.vgrow="ALWAYS" и fitToHeight="true" -->
            <ScrollPane vbarPolicy="ALWAYS" hbarPolicy="AS_NEEDED"
                        fitToWidth="true" fitToHeight="true"
                        VBox.vgrow="ALWAYS"
                        minHeight="300">   <!-- минимум 300px, а дальше растягивается -->

                <VBox fx:id="tracksContainer" spacing="14" style="-fx-padding: 10;"/>
            </ScrollPane>
        </VBox>

        <Region prefHeight="80"/>
    </VBox>
</ScrollPane>