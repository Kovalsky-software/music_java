<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.control.ToggleGroup?>


<ScrollPane fitToWidth="true" style="-fx-background-color: #f8f9fa;"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.vp_final.HomeController">


    <VBox spacing="30" style="-fx-background-color: #f8f9fa;">

        <padding>
            <Insets top="30" right="20" bottom="40" left="20"/>
        </padding>

        <HBox alignment="CENTER_LEFT" spacing="20">
        <Label text="Моё Приложение"
               style="-fx-font-size: 32; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-cursor: hand;"
               onMouseClicked="#openProfile"/>

        <!-- Кнопки: Поиск и Профиль -->
        <Region HBox.hgrow="ALWAYS"/> <!-- Растягивает пространство между заголовком и кнопками -->

        <Button onAction="#openSearch"
                style="-fx-background-color: transparent; -fx-cursor: hand;"
                graphicTextGap="8">
            <graphic>
                <Text text="&#x1F50D;" style="-fx-font-size: 26; -fx-fill: #2c3e50;"/>
            </graphic>
            <tooltip>
                <Tooltip text="Поиск"/>
            </tooltip>
        </Button>

        <Button onAction="#openProfile"
                style="-fx-background-color: transparent; -fx-cursor: hand;">
            <graphic>
                <Text text="&#x1F464;" style="-fx-font-size: 28; -fx-fill: #2c3e50;"/>
            </graphic>
            <tooltip>
                <Tooltip text="Профиль"/>
            </tooltip>
        </Button>
    </HBox>

        <VBox alignment="CENTER" spacing="15" style="-fx-background-color: #2c3e50; -fx-background-radius: 20; -fx-padding: 20;">

            <HBox alignment="CENTER" spacing="10">
                <Label text="Музыкальный плеер"
                       style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: white;"/>

                <Button fx:id="playerLikeButton"
                        style="-fx-background-color: transparent; -fx-cursor: hand; -fx-text-fill: white;"
                        graphicTextGap="0"
                        minWidth="30" minHeight="30"
                        maxWidth="30" maxHeight="30"/>
            </HBox>

            <Label fx:id="currentTrackLabel" text="Нажмите ЗАПУСТИТЬ"
                   style="-fx-text-fill: #ecf0f1; -fx-font-size: 16;"
                   wrapText="true" textAlignment="CENTER" prefWidth="400"/>

            <HBox alignment="CENTER" spacing="20">
                <Button text="Предыдущий" onAction="#playPrevious"
                        style="-fx-background-color: #34495e; -fx-text-fill: white; -fx-font-size: 16; -fx-padding: 10 20; -fx-background-radius: 30;"/>

                <Button fx:id="playButton" text="ЗАПУСТИТЬ" onAction="#playRandomTrack"
                        style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-size: 22; -fx-font-weight: bold;
               -fx-background-radius: 50; -fx-pref-width: 160; -fx-pref-height: 60;"/>

                <Button text="Следующий" onAction="#playNext"
                        style="-fx-background-color: #34495e; -fx-text-fill: white; -fx-font-size: 16; -fx-padding: 10 20; -fx-background-radius: 30;"/>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="Громкость" style="-fx-text-fill: #bdc3c7;"/>
                <Slider fx:id="volumeSlider" min="0" max="100" value="70" prefWidth="200"/>
                <Label fx:id="volumeLabel" text="70%" style="-fx-text-fill: #bdc3c7;"/>
            </HBox>
        </VBox>

        <!-- Новое -->
        <VBox spacing="12">
            <Label text="Новое" style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Separator/>
            <FlowPane fx:id="newTracksContainer" hgap="15" vgap="15" prefWrapLength="560"/>
        </VBox>

        <!-- ==================== ЛЮБИМОЕ ==================== -->
        <VBox spacing="12">
            <Label text="Любимое" style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Separator prefWidth="500"/>

            <ScrollPane vbarPolicy="NEVER" hbarPolicy="AS_NEEDED" fitToWidth="true">
                <FlowPane fx:id="favoriteContentContainer" hgap="18" vgap="18" prefWrapLength="800"/>
            </ScrollPane>
        </VBox>

        <!-- ЛЮБИМЫЕ ПЛЕЙЛИСТЫ -->
        <VBox spacing="12">
            <Label text="Любимые плейлисты"
                   style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Separator prefWidth="500"/>

            <ScrollPane vbarPolicy="NEVER" hbarPolicy="AS_NEEDED" fitToWidth="true">
                <FlowPane fx:id="favoritePlaylistsContainer"
                          hgap="18" vgap="18"
                          prefWrapLength="600"
                          alignment="CENTER_LEFT"/>
            </ScrollPane>
        </VBox>

        <!-- ПЛЕЙЛИСТЫ, СОЗДАННЫЕ ВАМИ -->
        <VBox spacing="12">
            <Label text="Плейлисты, созданные вами"
                   style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Separator prefWidth="500"/>

            <ScrollPane vbarPolicy="NEVER" hbarPolicy="AS_NEEDED" fitToWidth="true">
                <FlowPane fx:id="userPlaylistsContainer"
                          hgap="18" vgap="18"
                          prefWrapLength="600"
                          alignment="CENTER_LEFT"/>
            </ScrollPane>
        </VBox>

        <!-- АФИША -->
        <VBox spacing="12">
            <Label text="Афиша"
                   style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Separator prefWidth="500"/>

            <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 0 0 10 0;">
                <Label text="Сортировать по:"/>
                <ChoiceBox fx:id="afishaSortColumn" prefWidth="120"/>
                <ChoiceBox fx:id="afishaSortDirection" prefWidth="120"/>
            </HBox>

            <ScrollPane vbarPolicy="NEVER" hbarPolicy="AS_NEEDED" fitToWidth="true">
                <FlowPane fx:id="afishaContainer"
                          hgap="18" vgap="18"
                          prefWrapLength="600"
                          alignment="CENTER_LEFT"/>
            </ScrollPane>
        </VBox>

        <Region prefHeight="100"/> <!-- Отступ снизу -->
    </VBox>
</ScrollPane>